package com.javatest.sort;

/**
 * å¿«é?Ÿæ’åº?  ä»£ç      é«˜å¿«çœçš„æ’åºç®—æ³•
 *
 */
public class QuickSort {
    /**
     * å¿«é?Ÿæ’åºï¼ˆQuicksortï¼‰æ˜¯å¯¹å†’æ³¡æ’åºçš„ä¸?ç§æ”¹è¿›ã??
     * å¿«é?Ÿæ’åºç”±C. A. R. Hoareåœ?1960å¹´æå‡ºã??
     * å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸?è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸?éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼?
     * ç„¶åå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é?Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—ã??
     */
    public  static void quickSort(int[] arr,int low,int high){
        int i,j,temp;
        i=low;
        j=high;
        if(i>j){
            return ;
        }
        temp =arr[low];//åŸºå‡†æ•?
        while (i<j){
            //å…ˆçœ‹å³è¾¹ï¼Œä¾æ¬¡å¾€å·¦é?’å‡
            //#å…ˆä»å³å¾€å·¦æ‰¾ä¸?ä¸ªå°äº? åŸºå‡†ä½çš„æ•?
            //#å½“å³è¾¹çš„å“¨å…µä½ç½®æ‰?åœ¨çš„æ•?>åŸºå‡†ä½çš„æ•? æ—?
            //#ç»§ç»­ä»å³å¾?å·¦æ‰¾ï¼ˆåŒæ—? j ç´¢å¼•-1ï¼?
            //#æ‰¾åˆ°åä¼šè·³å‡º whileå¾ªç¯
            while (temp<=arr[j] && i<j){
                j--;
            }
            //å†çœ‹å·¦è¾¹ï¼Œä¾æ¬¡å¾€å³é?’å¢
            //#æ­¥éª¤å’Œä¸Šé¢ç±»ä¼?
            //åœ¨çœ‹å·¦è¾¹ï¼Œä¾æ¬¡å¾€å³é?’å¢
            //#å…ˆä»å·¦å¾€å³æ‰¾ä¸?ä¸ªå°äº? åŸºå‡†ä½çš„æ•?
            //#å½“å³è¾¹çš„å“¨å…µä½ç½®æ‰?åœ¨çš„æ•?>åŸºå‡†ä½çš„æ•? æ—?
            //#ç»§ç»­ä»å³å¾?å·¦æ‰¾ï¼ˆåŒæ—? j ç´¢å¼•-1ï¼?
            //#æ‰¾åˆ°åä¼šè·³å‡º whileå¾ªç¯
            while (temp>=arr[i] && i<j){
                i++;
            }
            //äº¤æ¢å½“å‰i,jå“¨å…µå‘ç°çš„æ•°æ®ï¼›
            if(i<j){// åªè¦i<j;
              //  #zã€y éƒ½æ˜¯ä¸´æ—¶å‚æ•°ï¼Œç”¨äºå­˜æ”? å·¦å³å“¨å…µ æ‰?åœ¨ä½ç½®çš„æ•°æ®
             int  z= arr[i];
             int  y= arr[j];
              // # å·¦å³å“¨å…µ äº¤æ¢æ•°æ®ï¼ˆäº’ç›¸æŒæœ‰å¯¹æ–¹çš„æ•°æ®ï¼?
               arr[i]=y;
               arr[j]=z;
            }
        }
        //å½“i==j æ—? è¯´æ˜iï¼Œj å“¨å…µç›¸é‡äº†ï¼Œè¿™æ—¶äº¤äº’ï¼ŒåŸºæ•°æ•°æ®å’Œå“¨å…µä½æ•°æ®ï¼›
        arr[low]=arr[i];//æˆ? arr[low]=arr[j];
        arr[i]=temp;//æˆ? arr[j]=temp;
        //#i=j
        //#è¿™æ—¶  å·¦åŠæ•°ç»„<(iæˆ–jæ‰?åœ¨ç´¢å¼•çš„æ•?)<å³åŠæ•°ç»„
        //#ä¹Ÿå°±æ˜¯è¯´(iæˆ–jæ‰?åœ¨ç´¢å¼•çš„æ•?)å·²ç»ç¡®å®šæ’åºä½ç½®ï¼? æ‰?ä»¥å°±ä¸ç”¨å†æ’åºäº†ï¼?
        //# åªè¦ç”¨ç›¸åŒçš„æ–¹æ³• åˆ†åˆ«å¤„ç†  å·¦å³æ•°ç»„å°±å¯ä»¥äº†
        //é€’å½’è°ƒç”¨å·¦åŠæ•°ç»„
        quickSort(arr,low,j-1);
        //é€’å½’è°ƒç”¨å³åŠæ•°ç»„
        quickSort(arr,j+1,high);
    }
    public  static void quickSort(float[] arr,int low,int high){
        float temp;
        int i,j;
        i=low;
        j=high;
        if(i>j){
            return ;
        }
        temp =arr[low];//åŸºå‡†æ•?
        while (i<j){
            //å…ˆçœ‹å³è¾¹ï¼Œä¾æ¬¡å¾€å·¦é?’å‡
            //#å…ˆä»å³å¾€å·¦æ‰¾ä¸?ä¸ªå°äº? åŸºå‡†ä½çš„æ•?
            //#å½“å³è¾¹çš„å“¨å…µä½ç½®æ‰?åœ¨çš„æ•?>åŸºå‡†ä½çš„æ•? æ—?
            //#ç»§ç»­ä»å³å¾?å·¦æ‰¾ï¼ˆåŒæ—? j ç´¢å¼•-1ï¼?
            //#æ‰¾åˆ°åä¼šè·³å‡º whileå¾ªç¯
            while (temp<=arr[j] && i<j){
                j--;
            }
            //å†çœ‹å·¦è¾¹ï¼Œä¾æ¬¡å¾€å³é?’å¢
            //#æ­¥éª¤å’Œä¸Šé¢ç±»ä¼?
            //åœ¨çœ‹å·¦è¾¹ï¼Œä¾æ¬¡å¾€å³é?’å¢
            //#å…ˆä»å·¦å¾€å³æ‰¾ä¸?ä¸ªå°äº? åŸºå‡†ä½çš„æ•?
            //#å½“å³è¾¹çš„å“¨å…µä½ç½®æ‰?åœ¨çš„æ•?>åŸºå‡†ä½çš„æ•? æ—?
            //#ç»§ç»­ä»å³å¾?å·¦æ‰¾ï¼ˆåŒæ—? j ç´¢å¼•-1ï¼?
            //#æ‰¾åˆ°åä¼šè·³å‡º whileå¾ªç¯
            while (temp>=arr[i] && i<j){
                i++;
            }
            //äº¤æ¢å½“å‰i,jå“¨å…µå‘ç°çš„æ•°æ®ï¼›
            if(i<j){// åªè¦i<j;
                //  #zã€y éƒ½æ˜¯ä¸´æ—¶å‚æ•°ï¼Œç”¨äºå­˜æ”? å·¦å³å“¨å…µ æ‰?åœ¨ä½ç½®çš„æ•°æ®
                float  z= arr[i];
                float  y= arr[j];
                // # å·¦å³å“¨å…µ äº¤æ¢æ•°æ®ï¼ˆäº’ç›¸æŒæœ‰å¯¹æ–¹çš„æ•°æ®ï¼?
                arr[i]=y;
                arr[j]=z;
            }
        }
        //å½“i==j æ—? è¯´æ˜iï¼Œj å“¨å…µç›¸é‡äº†ï¼Œè¿™æ—¶äº¤äº’ï¼ŒåŸºæ•°æ•°æ®å’Œå“¨å…µä½æ•°æ®ï¼›
        arr[low]=arr[i];//æˆ? arr[low]=arr[j];
        arr[i]=temp;//æˆ? arr[j]=temp;
        //#i=j
        //#è¿™æ—¶  å·¦åŠæ•°ç»„<(iæˆ–jæ‰?åœ¨ç´¢å¼•çš„æ•?)<å³åŠæ•°ç»„
        //#ä¹Ÿå°±æ˜¯è¯´(iæˆ–jæ‰?åœ¨ç´¢å¼•çš„æ•?)å·²ç»ç¡®å®šæ’åºä½ç½®ï¼? æ‰?ä»¥å°±ä¸ç”¨å†æ’åºäº†ï¼?
        //# åªè¦ç”¨ç›¸åŒçš„æ–¹æ³• åˆ†åˆ«å¤„ç†  å·¦å³æ•°ç»„å°±å¯ä»¥äº†
        //é€’å½’è°ƒç”¨å·¦åŠæ•°ç»„
        quickSort(arr,low,j-1);
        //é€’å½’è°ƒç”¨å³åŠæ•°ç»„
        quickSort(arr,j+1,high);
    }
    public  static void quickSort(long[] arr,int low,int high){
        long temp;
        int i,j;
        i=low;
        j=high;
        if(i>j){
            return ;
        }
        temp =arr[low];//åŸºå‡†æ•?
        while (i<j){
            //å…ˆçœ‹å³è¾¹ï¼Œä¾æ¬¡å¾€å·¦é?’å‡
            //#å…ˆä»å³å¾€å·¦æ‰¾ä¸?ä¸ªå°äº? åŸºå‡†ä½çš„æ•?
            //#å½“å³è¾¹çš„å“¨å…µä½ç½®æ‰?åœ¨çš„æ•?>åŸºå‡†ä½çš„æ•? æ—?
            //#ç»§ç»­ä»å³å¾?å·¦æ‰¾ï¼ˆåŒæ—? j ç´¢å¼•-1ï¼?
            //#æ‰¾åˆ°åä¼šè·³å‡º whileå¾ªç¯
            while (temp<=arr[j] && i<j){
                j--;
            }
            //å†çœ‹å·¦è¾¹ï¼Œä¾æ¬¡å¾€å³é?’å¢
            //#æ­¥éª¤å’Œä¸Šé¢ç±»ä¼?
            //åœ¨çœ‹å·¦è¾¹ï¼Œä¾æ¬¡å¾€å³é?’å¢
            //#å…ˆä»å·¦å¾€å³æ‰¾ä¸?ä¸ªå°äº? åŸºå‡†ä½çš„æ•?
            //#å½“å³è¾¹çš„å“¨å…µä½ç½®æ‰?åœ¨çš„æ•?>åŸºå‡†ä½çš„æ•? æ—?
            //#ç»§ç»­ä»å³å¾?å·¦æ‰¾ï¼ˆåŒæ—? j ç´¢å¼•-1ï¼?
            //#æ‰¾åˆ°åä¼šè·³å‡º whileå¾ªç¯
            while (temp>=arr[i] && i<j){
                i++;
            }
            //äº¤æ¢å½“å‰i,jå“¨å…µå‘ç°çš„æ•°æ®ï¼›
            if(i<j){// åªè¦i<j;
                //  #zã€y éƒ½æ˜¯ä¸´æ—¶å‚æ•°ï¼Œç”¨äºå­˜æ”? å·¦å³å“¨å…µ æ‰?åœ¨ä½ç½®çš„æ•°æ®
                long  z= arr[i];
                long  y= arr[j];
                // # å·¦å³å“¨å…µ äº¤æ¢æ•°æ®ï¼ˆäº’ç›¸æŒæœ‰å¯¹æ–¹çš„æ•°æ®ï¼?
                arr[i]=y;
                arr[j]=z;
            }
        }
        //å½“i==j æ—? è¯´æ˜iï¼Œj å“¨å…µç›¸é‡äº†ï¼Œè¿™æ—¶äº¤äº’ï¼ŒåŸºæ•°æ•°æ®å’Œå“¨å…µä½æ•°æ®ï¼›
        arr[low]=arr[i];//æˆ? arr[low]=arr[j];
        arr[i]=temp;//æˆ? arr[j]=temp;
        //#i=j
        //#è¿™æ—¶  å·¦åŠæ•°ç»„<(iæˆ–jæ‰?åœ¨ç´¢å¼•çš„æ•?)<å³åŠæ•°ç»„
        //#ä¹Ÿå°±æ˜¯è¯´(iæˆ–jæ‰?åœ¨ç´¢å¼•çš„æ•?)å·²ç»ç¡®å®šæ’åºä½ç½®ï¼? æ‰?ä»¥å°±ä¸ç”¨å†æ’åºäº†ï¼?
        //# åªè¦ç”¨ç›¸åŒçš„æ–¹æ³• åˆ†åˆ«å¤„ç†  å·¦å³æ•°ç»„å°±å¯ä»¥äº†
        //é€’å½’è°ƒç”¨å·¦åŠæ•°ç»„
        quickSort(arr,low,j-1);
        //é€’å½’è°ƒç”¨å³åŠæ•°ç»„
        quickSort(arr,j+1,high);
    }
}
